package parser.ocl;
import org.antlr.runtime.*;
import java.io.*;

public class ParserTest{


	public static void main (String args[]){
		OCLParser parser;
		OCLLexer lexer;

		System.out.println("*****Test Program for OCL Parser*****");
		PrintWriter err=new PrintWriter(System.out,true);

		try {
			if (args.length>1){
				ParseErrorHandler errh = new ParseErrorHandler(args[0],err);
				lexer = new OCLLexer(new ANTLRFileStream(args[0]));
				CommonTokenStream token = new CommonTokenStream(lexer);
				parser = new OCLParser(token);
				lexer.init(errh);
				//parser.init(errh);
				ASTExpression astexpt = parser.expressionOnly();
				System.out.println("ErrorCount:"+errh.errorCount());

			}
		}

		catch (RecognitionException e) {
           	 err.println(args[0] +":" + 
           	             e.line + ":" +
           	             e.charPositionInLine + ": " + 
           	             e.getMessage());
		}
		catch (IOException e){
			e.printStackTrace();
		}
		

	}

}
